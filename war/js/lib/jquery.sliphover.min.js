/*
 * jquery sliphover 1.1.2
 * apply 2d/3d hover animation to images
 *
 * inspired by http://tympanus.net/TipsTricks/DirectionAwareHoverEffect/index2.html
 * and http://codepen.io/taufnrsyd/pen/ufcdG
 *
 * Author:Wayou
 *
 * Licensed under the MIT license.
 *
 * Bug reporting, suggestion, feature requirments, you can:
 * mail to liuwayong@gmail.com
 * or visit the project on github https://github.com/Wayou/SlipHover to open issues
 */
;(function($,window,document,undefined){'use strict';var J=function(aE,options){this.v=aE,this.options=$.extend({},this.defaults,options)};J.prototype={defaults:{target:'img',title:'title',duration:'fast',fontColor:'#ffffff',backgroundColor:'rgba(0,0,0,.5)',reverse:false,flip:false,autoScroll:true,scrollSpeed:40,height:'100%'},bV:{L:{'left':'0','bottom':'0'},bJ:{'left':'0','bottom':'100%'},aS:{'left':'100%','bottom':'0'},an:{'left':'0','bottom':'-100%'},ab:{'left':'-100%','bottom':'0'}},F:{bg:{'perspective-origin':'50% 0%','-webkit-perspective-origin':'50% 0%'},aI:{'perspective-origin':'100% 50%','-webkit-perspective-origin':'100% 50%'},bj:{'perspective-origin':'50% 100%','-webkit-perspective-origin':'50% 100%'},aR:{'perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'}},aB:'@-webkit-keyframes topenter{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} } @keyframes topenter{ 	from{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(0deg); 	} } @-webkit-keyframes topleave{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} } @keyframes topleave{ 	from{ 		transform-origin:top; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} }  @-webkit-keyframes rightenter{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} } @keyframes rightenter{ 	from{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(0deg); 	} } @-webkit-keyframes rightleave{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} } @keyframes rightleave{ 	from{ 		transform-origin:right; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} }  @-webkit-keyframes bottomenter{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} } @keyframes bottomenter{ 	from{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} } @-webkit-keyframes bottomleave{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} } @keyframes bottomleave{ 	from{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} }  @-webkit-keyframes leftenter{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} } @keyframes leftenter{ 	from{ 		transform-origin:left; 		transform:rotateY(90deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(0deg); 	} } @-webkit-keyframes leftleave{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} } @keyframes leftleave{ 	from{ 		transform-origin:left; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(90deg); 	} }',bE:function(aE,options){var j=this,v=aE||this.v,options=options||this.options,am=v.find(options.target).size()>0?v.find(options.target):v;if(this.options.flip){var ao=$('style').length===0?$('<style>'):$('style').first();ao.append(this.aB).appendTo('head');};am.each(function(){var G=j.bQ($(this)),C=j.aV(G,options,$(this)),k=C.children(),R=k.height(),ae=C.height();j.bS(G,C,options);if(j.options.autoScroll&&R-ae>0){C.css('overflow','hidden');var scrollTop={top: -(R-ae)},aC={top:0},H=(R-ae)*j.options.scrollSpeed;C.hover(function(){j.ah(k,scrollTop,aC,H);},function(){C.children().stop().css('top','0');})};});return v;},ah:function(v,aj,ad,H){var j=this;v.animate(aj,H,'linear',function(){v.animate(ad,H,'linear',function(){j.ah(v,aj,ad,H);});});},bQ:function(V){var as=V.parents().filter(function(){return this.style.position!=='static';}).length,bD=as?V.position():V.offset(),ax=V.innerWidth(),aH=V.innerHeight(),borderWidth=(V.outerWidth()-V.innerWidth())/2,aJ=bD.top+borderWidth,bI=bD.left+borderWidth,G=$('<div class="sliphoveritem" style="width:'+ax+'px;height:'+aH+'px;text-align:center;overflow:hidden;position:absolute;top:'+aJ+'px;left:'+bI+'px;">').insertBefore(V);if(this.options.flip){G.css({'perspective':'500px','-webkit-perspective':'500px','perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'});};var browser=this.aK();if(browser.T&&browser.version<=10){G.css('background-color','rgba(255,255,255,0.1)');};return G;},aV:function(G,options,V){var C=$('<div class="sliphoveritemTitle" style="width:100%;height:'+this.options.height+';box-sizing:border-box;-moz-box-sizing:border-box;padding:5px;overflow:auto;position:absolute;color:'+this.options.fontColor+';background-color:'+this.options.backgroundColor+';">').html('<div style="position:relative;width:100%;">'+V.attr(options.title)+'</div>'),k=C.children();if(this.options.flip){C.css({'left':'0','bottom':'0','transform-origin':'left','transform':'rotateY(90deg)','-webkit-transform-origin':'left','-webkit-transform':'rotateY(90deg)','backface-visibility':'hidden','-webkit-backface-visibility':'hidden'});}else{C.css(this.bV.ab);};G.html(C);if(k.height()<C.height()){k.css({'width':k.width(),'height':C.height(),'display':'table-cell','vertical-align':'middle','text-align':'center'});};return C;},t:function(bk,aT,G,C){var duration=this.options.duration;switch(duration){case 'fast':duration='200ms';break;case 'slow':duration='600ms';break;default:duration=duration+'ms';break;};G.css(bk);C.css({'animation':aT+' '+duration+' forwards','-webkit-animation':aT+' '+duration+' forwards'});},bx:function(V,event){var w=V.width(),l=V.height(),x=(event.pageX-V.offset().left-(w/2))*(w>l?(l/w):1),y=(event.pageY-V.offset().top-(l/2))*(l>w?(w/l):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},bS:function(V,C,options){var j=this;V.unbind('mouseenter.sliphover mouseleave.sliphover').bind('mouseenter.sliphover mouseleave.sliphover',function(e){var K=e.type,direction=j.bx(V,e);j.by(K,direction,V,C,options,j.bV);});},by:function(K,direction,G,C,options,O){if(options.reverse){direction=(direction+2)%4};switch(direction){case 0:if(K=='mouseenter'){if(options.flip){this.t(this.F.bg,'topenter',G,C);}else{C.css(O.bJ);C.stop().animate(O.L,options.duration);};}else{if(options.flip){this.t(this.F.bg,'topleave',G,C);}else{C.stop().animate(O.bJ,options.duration);};}break;case 1:if(K=='mouseenter'){if(options.flip){this.t(this.F.aI,'rightenter',G,C);}else{C.css(O.aS);C.stop().animate(O.L,options.duration);};}else{if(options.flip){this.t(this.F.aI,'rightleave',G,C);}else{C.stop().animate(O.aS,options.duration);};}break;case 2:if(K=='mouseenter'){if(options.flip){this.t(this.F.bj,'bottomenter',G,C);}else{C.css(O.an);C.stop().animate(O.L,options.duration);};}else{if(options.flip){this.t(this.F.bj,'bottomleave',G,C);}else{C.stop().animate(O.an,options.duration);};}break;case 3:if(K=='mouseenter'){if(options.flip){this.t(this.F.aR,'leftenter',G,C);}else{C.css(O.ab);C.stop().animate(O.L,options.duration);};}else{if(options.flip){this.t(this.F.aR,'leftleave',G,C);}else{C.stop().animate(O.ab,options.duration);};}break;default:throw new Error('failed to get the direction.');}},aK:function(){var version=999,T=false;if(navigator.appVersion.indexOf("MSIE")!= -1){T=true;version=parseFloat(navigator.appVersion.split("MSIE")[1]);}return{T:T,version:version};}};J.constructor=J;$.fn.sliphover=function(options){var entry=$.data(this,'sliphover');if(!entry){entry=new J(this,options);entry.bE();$.data(this,'sliphover',entry);}else{entry.bE(this,options);}$(window).unbind('resize.sliphover').bind('resize.sliphover',function(){$('.sliphoveritem').remove();entry.bE();});return entry;};}(jQuery,window,document));